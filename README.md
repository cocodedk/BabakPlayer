# BabakPlayer

BabakPlayer is an Android companion app for BabakCast. It imports shared media parts (for example from WhatsApp), preserves receive order, and plays them continuously as one playlist.

## Website
- [English](https://cocodedk.github.io/BabakPlayer/)
- [فارسی (Persian)](https://cocodedk.github.io/BabakPlayer/fa/)

## Relationship with BabakCast
- `BabakCast`: splits and shares media parts.
- `BabakPlayer`: receives and plays parts in strict import order.
- Compatibility note: Optimized for imports generated by BabakCast.

## Supported Media Formats
- Audio: `mp3`
- Video: `mp4`, `mkv`, `mov`, `webm`

## Share-to-Import Flow
1. Select one or many files in WhatsApp (or another app).
2. Tap Share and choose BabakPlayer.
3. BabakPlayer imports files to app-private storage.
4. Import summary shows imported/skipped counts and total size.
5. Press play once for continuous queue playback.

## App Tabs
- `Player`: import summary, playlist browser, and smooth playback controls.
- `Settings`: theme mode, language, autoplay-next, seek interval, and summary behavior.
- `About`: app purpose, compatibility details, version, and project links.

## Playback Behavior
- Queue order follows incoming share payload order.
- Autoplay-next can be toggled in settings.
- If one file fails decode, it is marked failed and skipped.
- Works with mixed audio and video queues when supported by device codecs.

## Localization
- Built-in languages: English and Persian (`fa`).
- Persian UI runs in RTL layout automatically.

## Delete and Purge Behavior
- Delete file: removes item from playlist and purges local file permanently.
- Delete playlist: purges all playlist files and metadata permanently.
- All imported files live in app-private storage under `files/playlists`.

## Build and Run
```bash
./gradlew assembleDebug
```

## Release Build (Signed)
Set required environment variables:
- `KEYSTORE_PATH`
- `KEYSTORE_PASSWORD`
- `KEY_ALIAS`
- `KEY_PASSWORD`

Then build:
```bash
./gradlew assembleRelease
```

## CI Smoke Check
```bash
./gradlew buildSmoke
```

## Privacy and Storage
- Local-first: no account, no cloud sync, no backend requirement.
- Imported files are copied into app-private storage.
- Deletion operations permanently remove local imported files.

## License
Apache-2.0 | © 2025 [Cocode](https://cocode.dk) | BabakPlayer
